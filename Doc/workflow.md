# 工作流程文档

## 钱包管理流程

### 1. 导入钱包
1. 用户输入私钥/助记词
2. 验证格式合法性
3. 使用AES加密私钥
4. 存储到IndexedDB
5. 更新钱包列表显示

### 2. 余额更新流程
1. 获取所有网络配置
2. 创建Provider实例
3. 批量查询钱包余额
4. 添加500ms延迟避免请求过快
5. 更新数据库和显示

### 3. 导出钱包流程
1. 获取钱包和网络数据
2. 使用xlsx生成Excel
3. 分表保存不同数据
4. 下载Excel文件

## 转账流程

### 1. MetaMask转账
1. 检查MetaMask安装
2. 请求用户授权
3. 获取当前账户
4. 构建交易对象
5. 发送交易等待确认
6. 更新转账状态

### 2. 批量转账
1. 加载转账列表
2. 验证接收地址
3. 计算总金额和Gas
4. 按序执行转账
5. 记录转账结果